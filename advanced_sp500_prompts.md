# Advanced S&P 500 Analysis Prompts
## Professional Trading Strategies with MCP Integration

These advanced prompts combine both MCP servers for sophisticated trading analysis and strategy development.

---

## 11. Earnings Season Impact Analysis

```
Analyze S&P 500 behavior during earnings season:

1. Get earnings calendar for major S&P 500 companies (AAPL, MSFT, GOOGL, AMZN, TSLA)
2. Fetch 6 months of S&P 500 daily data around earnings periods
3. Calculate pre/post earnings indicators:
   - ATR expansion before earnings (volatility anticipation)
   - Bollinger Band squeeze patterns
   - Volume indicators (OBV, MFI) for institutional positioning
   - Momentum indicators (RSI, MACD) for trend continuation

4. Analysis:
   - Identify volatility expansion patterns before major earnings
   - Volume accumulation/distribution patterns
   - Price momentum leading into earnings
   - Post-earnings follow-through analysis

5. Generate earnings season trading strategy with risk management
```

---

## 12. Federal Reserve Policy Impact

```
Analyze S&P 500 response to Federal Reserve policy changes:

1. Get 2 years of S&P 500 data around FOMC meeting dates
2. Calculate policy-sensitive indicators:
   - Long-term trend analysis (200-day SMA, TEMA)
   - Volatility indicators (ATR, NATR, Standard Deviation)
   - Momentum oscillators (RSI, Stochastic, CCI)
   - Rate of Change indicators for policy reaction

3. Fed policy analysis:
   - Pre-FOMC meeting volatility patterns (ATR expansion)
   - Post-announcement trend continuation (ADX, DEMA)
   - Market sentiment shifts (RSI, Williams %R)
   - Volume flow analysis during policy changes

4. Develop Fed-aware trading rules and position adjustments
```

---

## 13. Seasonal Pattern Recognition

```
Identify and analyze S&P 500 seasonal patterns:

1. Get 5 years of S&P 500 daily data for seasonal analysis
2. Segment data by:
   - Monthly patterns (January effect, September weakness)
   - Quarterly patterns (end-of-quarter rebalancing)
   - Holiday effects (pre-holiday rallies)

3. Calculate seasonal indicators:
   - Monthly RSI patterns and divergences
   - MACD seasonal trend changes
   - ATR seasonal volatility cycles
   - Volume patterns (OBV) during seasonal periods

4. Seasonal strategy development:
   - Identify high-probability seasonal trades
   - Volatility-adjusted position sizing by season
   - Momentum confirmation requirements
   - Risk management for seasonal anomalies

5. Generate seasonal trading calendar with technical confluence
```

---

## 14. Inter-Market Analysis

```
Perform inter-market analysis with S&P 500 correlations:

1. Fetch 1 year of data for:
   - S&P 500 (^GSPC)
   - US Dollar Index (DX-Y.NYB)
   - 10-Year Treasury (^TNX)
   - Gold (GC=F)
   - Oil (CL=F)

2. Calculate cross-market indicators:
   - Relative strength (ROC) between assets
   - Correlation analysis using moving averages
   - Momentum divergences (RSI, MACD) between markets
   - Volatility relationships (ATR comparisons)

3. Inter-market signals:
   - Dollar strength vs equity performance
   - Bond-equity rotation signals
   - Commodity inflation signals
   - Safe-haven flow analysis (Gold vs SPX)

4. Generate multi-asset trading signals and portfolio allocation
```

---

## 15. Options Expiration Patterns

```
Analyze S&P 500 behavior around major options expiration:

1. Get S&P 500 data around monthly/quarterly options expiration dates
2. Calculate expiration-specific indicators:
   - Volatility crush patterns (ATR, Standard Deviation)
   - Pin risk analysis using support/resistance levels
   - Volume analysis (OBV, ADOSC) for institutional flows
   - Momentum indicators for post-expiration trends

3. Expiration analysis:
   - Pre-expiration volatility expansion (ATR percentiles)
   - Pin risk zones using moving averages and round numbers
   - Post-expiration trend continuation probability
   - Volume confirmation of directional moves

4. Options expiration trading strategy with timing rules
```

---

## 16. Gap Analysis and Mean Reversion

```
Analyze S&P 500 gap behavior and mean reversion opportunities:

1. Get 1 year of S&P 500 daily OHLC data to identify gaps
2. Classify gaps and calculate indicators:
   - Breakaway gaps: ADX > 25, MACD confirmation
   - Exhaustion gaps: RSI > 70 or < 30, Bollinger Band extremes
   - Common gaps: Low ADX, ranging market conditions

3. Mean reversion analysis:
   - Gap fill probability using Bollinger Band mean reversion
   - RSI divergences after gap events
   - Volume confirmation (OBV, MFI) for gap sustainability
   - Parabolic SAR for trend continuation vs reversal

4. Gap trading strategy:
   - Gap fade conditions (mean reversion criteria)
   - Gap continuation criteria (trend following)
   - Stop-loss placement using ATR
   - Profit targets using standard deviation bands
```

---

## 17. Market Breadth Integration

```
Combine S&P 500 analysis with market breadth indicators:

1. Get data for breadth analysis:
   - S&P 500 (^GSPC)
   - Advance-Decline data via sector ETFs
   - Small caps (IWM) vs Large caps (SPY)
   - High beta vs Low beta stocks

2. Calculate breadth-adjusted indicators:
   - S&P 500 RSI vs Small cap RSI divergences
   - MACD confirmation across market segments
   - Relative strength rotation (Large vs Small vs Mid cap)
   - Volume flow analysis across market segments

3. Breadth analysis:
   - Market leadership rotation signals
   - Breadth deterioration warning signs
   - Sector participation confirmation
   - Risk-on vs Risk-off momentum

4. Generate breadth-confirmed S&P 500 trading signals
```

---

## 18. Algorithmic Strategy Backtesting

```
Create and backtest algorithmic S&P 500 strategies:

1. Get 3 years of S&P 500 daily data for backtesting
2. Define strategy rules using technical indicators:
   
   Strategy 1 - Trend Following:
   - Entry: MACD bullish crossover + RSI < 70 + ADX > 25
   - Exit: MACD bearish crossover OR RSI > 80
   - Stop: 2x ATR below entry

   Strategy 2 - Mean Reversion:
   - Entry: RSI < 30 + Price below lower Bollinger Band
   - Exit: RSI > 50 OR Price above middle Bollinger Band
   - Stop: 1.5x ATR below entry

3. Calculate strategy metrics:
   - Win rate and profit factor
   - Maximum drawdown using equity curve analysis
   - Sharpe ratio calculation
   - Risk-adjusted returns

4. Optimize parameters and generate production-ready signals
```

---

## 19. Crisis Pattern Recognition

```
Identify and analyze crisis patterns in S&P 500:

1. Get 10+ years of S&P 500 data covering major market events
2. Identify crisis characteristics:
   - Volatility expansion (ATR > 90th percentile)
   - Momentum breakdown (RSI < 30 for extended periods)
   - Trend deterioration (ADX decline, MA breakdown)
   - Volume spikes (OBV divergences)

3. Crisis pattern analysis:
   - Early warning indicators (Bollinger Band squeeze before expansion)
   - Capitulation signals (Williams %R extremes, RSI washouts)
   - Recovery patterns (MACD bottoming, volume confirmation)
   - False bottom identification (momentum divergences)

4. Crisis navigation strategy:
   - Risk-off positioning triggers
   - Oversold rally identification
   - Recovery confirmation requirements
   - Position sizing during high volatility
```

---

## 20. Quantitative Factor Analysis

```
Perform quantitative factor analysis on S&P 500:

1. Get 2 years of data for factor analysis:
   - S&P 500 and sector components
   - Style factors (Growth vs Value ETFs)
   - Size factors (Large vs Small cap)
   - Quality factors (High vs Low volatility)

2. Calculate factor indicators:
   - Momentum factors using ROC and RSI
   - Mean reversion factors using Bollinger Bands
   - Volatility factors using ATR and Standard Deviation
   - Trend factors using multiple moving averages

3. Factor rotation analysis:
   - Identify dominant factors by time period
   - Factor momentum and mean reversion cycles
   - Cross-factor correlation analysis
   - Factor timing using technical indicators

4. Generate factor-based allocation strategy:
   - Factor momentum portfolio (high RSI factors)
   - Factor mean reversion portfolio (extreme Bollinger positions)
   - Dynamic factor allocation based on technical signals
   - Risk parity using volatility-adjusted indicators
```

---

## Implementation Workflow

### 1. Data Collection Phase
```
Use Yahoo Finance MCP to collect:
- Historical OHLC data
- Volume information
- Corporate actions (splits, dividends)
- Inter-market data
- Sector/style ETF data
```

### 2. Technical Analysis Phase
```
Use TA-Lib MCP to calculate:
- Trend indicators (SMA, EMA, ADX, DEMA, TEMA, KAMA)
- Momentum indicators (RSI, MACD, Stochastic, Williams %R, CCI, MOM)
- Volatility indicators (Bollinger Bands, ATR, NATR, Standard Deviation)
- Volume indicators (OBV, AD, ADOSC, MFI)
- Other indicators (SAR, ROC, PPO, TRIX)
```

### 3. Signal Generation Phase
```
Combine indicators for:
- Entry signals (multiple indicator confluence)
- Exit signals (profit taking and stop loss)
- Position sizing (volatility-adjusted)
- Risk management (maximum drawdown limits)
```

### 4. Strategy Validation Phase
```
Validate strategies using:
- Out-of-sample testing
- Walk-forward analysis
- Monte Carlo simulation
- Regime-based performance analysis
```

## Professional Usage Tips

1. **Always use multiple timeframes** for signal confirmation
2. **Combine trend and momentum** indicators for robust signals
3. **Include volume analysis** for institutional confirmation
4. **Use volatility indicators** for position sizing and risk management
5. **Backtest thoroughly** before implementing live strategies
6. **Monitor correlation changes** between indicators and markets
7. **Adapt parameters** for different market regimes
8. **Include transaction costs** in strategy development
9. **Use proper risk management** with stop losses and position sizing
10. **Stay updated** on fundamental factors that drive technical patterns

These advanced prompts provide institutional-grade analysis capabilities for professional S&P 500 trading and investment strategies.